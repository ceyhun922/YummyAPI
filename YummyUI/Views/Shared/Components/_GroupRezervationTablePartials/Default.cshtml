@section Styles{
<style>
/* ======= SCOPE: only this page ======= */
.go-page, .go-page * { box-sizing:border-box; }

.go-page{
  min-height:100%;
  padding:1.6rem 2rem 2.5rem;
  position:relative;
  overflow:hidden;
  border-radius:22px;

  background:
    radial-gradient(900px 520px at 55% 55%, rgba(142, 97, 255,.20), transparent 60%),
    radial-gradient(760px 420px at 75% 35%, rgba(56,189,248,.18), transparent 60%),
    radial-gradient(700px 380px at 35% 70%, rgba(250,204,21,.10), transparent 55%),
    linear-gradient(135deg, #070b1f 0%, #0a1030 45%, #050818 100%);
}

.go-page:before{
  content:"";
  position:absolute; inset:-40px;
  background:
    radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.65) 40%, transparent 41%),
    radial-gradient(2px 2px at 25% 70%, rgba(255,255,255,.45) 40%, transparent 41%),
    radial-gradient(1.5px 1.5px at 55% 30%, rgba(255,255,255,.55) 40%, transparent 41%),
    radial-gradient(1.5px 1.5px at 85% 60%, rgba(255,255,255,.45) 40%, transparent 41%),
    radial-gradient(2px 2px at 75% 85%, rgba(255,255,255,.50) 40%, transparent 41%);
  opacity:.35;
  filter: blur(.2px);
  pointer-events:none;
}

.go-page .orb{position:absolute;border-radius:999px;filter:blur(95px);opacity:.55;pointer-events:none;animation:floaty 14s ease-in-out infinite;}
.go-page .orb.a{width:520px;height:520px;left:-170px;top:-170px;background:rgba(139,92,246,.45);}
.go-page .orb.b{width:460px;height:460px;right:-200px;top:80px;background:rgba(56,189,248,.36);animation-delay:3s;}
.go-page .orb.c{width:620px;height:620px;left:30%;bottom:-320px;background:rgba(99,102,241,.30);animation-delay:6s;}
@keyframes floaty{0%,100%{transform:translate(0,0) scale(1);}50%{transform:translate(16px,-12px) scale(1.04);}}

/* topbar */
.go-page .topbar{display:flex;gap:14px;align-items:center;margin-bottom:18px;flex-wrap:wrap;}
.go-page .h-left{display:flex;align-items:center;gap:12px;}
.go-page .badge-ico{
  width:52px;height:52px;border-radius:16px;display:grid;place-items:center;
  background:linear-gradient(135deg,#667eea,#764ba2);
  box-shadow:0 12px 35px rgba(102,126,234,.6);
  border:1px solid rgba(255,255,255,.12);
  color:#fff;font-size:22px;
}
.go-page .h-title{display:flex;flex-direction:column;gap:3px;}
.go-page .h-title h2{
  margin:0;font-size:22px;font-weight:1000;color:rgba(255,255,255,.95);letter-spacing:.2px;
}
.go-page .h-title p{margin:0;color:rgba(255,255,255,.70);font-weight:800;}

.go-page .searchbar{
  flex:1; min-width: 260px;
  display:flex;align-items:center;gap:12px;
  padding:14px 16px;border-radius:999px;
  background:rgba(10,14,39,.35);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(14px);
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
}
.go-page .searchbar .ico{opacity:.85; font-size:18px;}
.go-page .searchbar input{
  width:100%;background:transparent;border:none;outline:none;
  color:rgba(255,255,255,.92);font-weight:800;font-size:14px;
}

.go-page .pill-group{display:flex; gap:10px; align-items:center;}
.go-page .pill{
  padding:10px 16px;border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.82);
  font-weight:900; cursor:pointer; user-select:none;
  transition:.18s ease;
  box-shadow: 0 14px 40px rgba(0,0,0,.25);
}
.go-page .pill:hover{transform:translateY(-1px); filter:brightness(1.05);}
.go-page .pill.active{
  background:linear-gradient(135deg, rgba(139,92,246,.75), rgba(99,102,241,.65));
  border-color:rgba(255,255,255,.22);
  color:#fff;
  box-shadow: 0 18px 60px rgba(139,92,246,.25);
}

/* grid */
.go-page .grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:18px;
}
@media (max-width: 1100px){ .go-page .grid{grid-template-columns:1fr;} }

/* card */
.go-page .go-card{
  position:relative;
  border-radius:28px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(10, 14, 39, .40);
  backdrop-filter: blur(18px);
  box-shadow: 0 40px 90px rgba(0,0,0,.45);
  padding:18px;
  overflow:hidden;
}
.go-page .go-card:before{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(900px 220px at 20% 0%, rgba(162, 113, 255,.25), transparent 55%),
    radial-gradient(700px 240px at 85% 20%, rgba(56,189,248,.18), transparent 60%),
    radial-gradient(600px 240px at 70% 90%, rgba(250,204,21,.08), transparent 55%);
  opacity:.9;
  pointer-events:none;
}
.go-page .go-inner{position:relative; z-index:2;}

.go-page .row1{display:flex;align-items:center;gap:14px;}
.go-page .avatar{
  width:56px; height:56px;border-radius:18px;
  display:grid; place-items:center;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  overflow:hidden;
  color:#fff;
}
.go-page .avatar span{font-size:22px; opacity:.92;}

.go-page .title{display:flex;flex-direction:column;gap:4px;}
.go-page .title h3{margin:0;font-size:18px;font-weight:1000;color:rgba(255,255,255,.95);letter-spacing:.2px;}
.go-page .title p{margin:0;color:rgba(255,255,255,.70);font-weight:800;font-size:13px;}

.go-page .meta{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(12, minmax(0,1fr));
  gap:10px;
}
.go-page .m{
  grid-column: span 6;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
  padding:10px 12px;
}
.go-page .m .k{color:rgba(255,255,255,.60);font-weight:900;font-size:12px;margin:0 0 2px;}
.go-page .m .v{color:#fff;font-weight:1000;margin:0;}

.go-page .chef-avatars{display:flex; flex-wrap:wrap; gap:8px; margin-top:10px;}
.go-page .chef-avatars img{
  width:34px;height:34px;border-radius:14px;object-fit:cover;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
}

.go-page .prio-chip{
  margin-left:auto;
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 14px; border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  font-weight:950; color:rgba(255,255,255,.88);
}
.go-page .dot{
  width:10px;height:10px;border-radius:999px;
  background:#22c55e;
  box-shadow:0 0 0 6px rgba(34,197,94,.14);
}
.go-page .dot.az{ background:#fbbf24; box-shadow:0 0 0 6px rgba(245,158,11,.12); }
.go-page .dot.orta{ background:#ef4444; box-shadow:0 0 0 6px rgba(239,68,68,.12); }
.go-page .dot.yuksek{ background:#22c55e; box-shadow:0 0 0 6px rgba(34,197,94,.14); }

.go-page .actions{
  margin-top:16px;
  display:flex;
  justify-content:flex-end;
  gap:12px;
  flex-wrap:wrap;
}
.go-page .btnx{
  display:inline-flex;align-items:center;gap:10px;
  padding:12px 16px;border-radius:18px;
  font-weight:1000;text-decoration:none;
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 18px 55px rgba(0,0,0,.28);
  transition:.18s;
  cursor:pointer;
}
.go-page .btnx:hover{transform:translateY(-1px); filter:brightness(1.04);}
.go-page .btnx.primary{
  background:linear-gradient(135deg,#fbbf24,#f59e0b);
  color:#1a1a1a;
}
.go-page .btnx.ghost{
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.90);
}

.go-page .empty{
  margin-top:18px;
  color:rgba(255,255,255,.75);
  font-weight:900;
}

/* keep bootstrap table untouched elsewhere */
</style>
}

<div class="go-page">
  <div class="orb a"></div><div class="orb b"></div><div class="orb c"></div>

  <div class="topbar">
    <div class="h-left">
      <div class="badge-ico">üë•</div>
      <div class="h-title">
        <h2>Grup Organizasyonlarƒ±</h2>
        <p>Son rezervasyonlar ve ≈üef listesi</p>
      </div>
    </div>

    <div class="searchbar">
      <span class="ico">üîé</span>
      <input id="q" type="text" placeholder="Organizasyon adƒ±na g√∂r…ô axtar..." autocomplete="off" />
    </div>

    <div class="pill-group">
      <div class="pill active" data-filter="all">Hepsi</div>
      <div class="pill" data-filter="az">Az</div>
      <div class="pill" data-filter="orta">Orta</div>
      <div class="pill" data-filter="yuksek">Y√ºksek</div>
    </div>
  </div>

  @if (!groups.Any())
  {
    <div class="empty">Data yoxdur.</div>
  }
  else
  {
    <div class="grid" id="grid">
      @foreach (var item in groups)
      {
        var first = item.First();
        var pr = first.ParticipationRate;
        if (pr < 0) pr = 0;
        if (pr > 100) pr = 100;

        var pk = PriorityKey(first.GroupPriority);

        <div class="go-card"
             data-name="@first.OrganizationName"
             data-priority="@pk">

          <div class="go-inner">
            <div class="row1">
              <div class="avatar"><span>üè¢</span></div>

              <div class="title">
                <h3>@first.OrganizationName</h3>
                <p>Group #@first.GroupOrganizationId ‚Ä¢ @item.Count() ≈ûef</p>
              </div>

              <div class="prio-chip" title="Priority">
                <span class="dot @pk"></span>
                <span>@PriorityText(first.GroupPriority)</span>
              </div>
            </div>

            <div class="chef-avatars">
              @foreach (var c in item)
              {
                <img src="@Img(c.ImageFile)" alt="@c.ChefName" title="@c.ChefName" />
              }
            </div>

            <div class="meta">
              <div class="m">
                <p class="k">Katƒ±lƒ±m Oranƒ±</p>
                <p class="v">@pr%</p>
              </div>
              <div class="m">
                <p class="k">Tarih / Saat</p>
                <p class="v">@ShowDate(first.Date) ‚Ä¢ @ShowTime(first.Time)</p>
              </div>
            </div>

            <div class="actions">
              <button type="button"
                      class="btnx ghost js-group-detail"
                      data-groupid="@first.GroupOrganizationId"
                      data-org="@first.OrganizationName"
                      data-pr="@first.ParticipationRate"
                      data-date="@ShowDate(first.Date)"
                      data-time="@ShowTime(first.Time)"
                      data-priority="@first.GroupPriority">
                üîé Detail
              </button>

              <button type="button" class="btnx primary">
                ‚ûï Yeni Rezervasyon
              </button>

              <script type="application/json" id="group-@first.GroupOrganizationId">
@Html.Raw(System.Text.Json.JsonSerializer.Serialize(
    item.Select(c => new { c.ChefName, c.ImageFile })
))
              </script>
            </div>
          </div>
        </div>
      }
    </div>
  }

  <!-- burada SENIN premium modalin qalacaq (xBackdrop vs) -->
  @* Modal HTML + JS-ni s…ônd…ô i≈ül…ôy…ôn premium variantdan buraya qoy *@
</div>

@section Scripts{
<script>
(() => {
  const q = document.getElementById("q");
  const pills = document.querySelectorAll(".go-page .pill");
  const grid = document.getElementById("grid");
  let activeFilter = "all";

  function applyFilters(){
    if(!grid) return;
    const cards = grid.querySelectorAll(".go-card");
    const query = (q?.value || "").toLowerCase().trim();

    cards.forEach(c => {
      const name = (c.getAttribute("data-name") || "").toLowerCase();
      const pr   = (c.getAttribute("data-priority") || "unk");

      const okText = !query || name.includes(query);
      const okStat = activeFilter === "all" || activeFilter === pr;

      c.style.display = (okText && okStat) ? "" : "none";
    });
  }

  q?.addEventListener("input", applyFilters);

  pills.forEach(p => {
    p.addEventListener("click", () => {
      pills.forEach(x => x.classList.remove("active"));
      p.classList.add("active");
      activeFilter = p.getAttribute("data-filter") || "all";
      applyFilters();
    });
  });

  applyFilters();
})();
</script>