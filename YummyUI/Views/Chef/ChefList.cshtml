@using YummyUI.DTOs.ChefDTOs
@model List<ResultChefDto>

@{
    Layout = "_AdminLayout";
}

@section Styles{
<style>
  .ai-powered-container,
  .ai-powered-container * { box-sizing: border-box; }

  .ai-powered-container{
    height:100%;
    min-height:0;
    padding:1.6rem 2rem;
    position:relative;
    overflow:hidden;
    display:flex;
    flex-direction:column;

    background:
      radial-gradient(1200px 600px at 70% 80%, rgba(139, 92, 246, 0.30), transparent 60%),
      radial-gradient(900px 500px at 15% 20%, rgba(99, 102, 241, 0.35), transparent 60%),
      radial-gradient(800px 420px at 90% 10%, rgba(236, 72, 153, 0.25), transparent 55%),
      linear-gradient(135deg, #0a0e27 0%, #16213e 40%, #0f1729 100%);
  }

  .grid-overlay{
    position:absolute; inset:0;
    pointer-events:none;
    opacity:.15;
    background-image:
      linear-gradient(rgba(102,126,234,.15) 1px, transparent 1px),
      linear-gradient(90deg, rgba(102,126,234,.15) 1px, transparent 1px);
    background-size:60px 60px;
    animation:grid-move 26s linear infinite;
  }
  @@keyframes grid-move{ 0%{background-position:0 0} 100%{background-position:60px 60px} }

  .orb{
    position:absolute;
    border-radius:999px;
    filter:blur(110px);
    opacity:.6;
    pointer-events:none;
    animation:floaty 20s ease-in-out infinite;
  }
  .orb.a{
    width:540px; height:540px; left:-190px; top:-190px;
    background:linear-gradient(135deg, rgba(139,92,246,.42), rgba(99,102,241,.30));
  }
  .orb.b{
    width:480px; height:480px; right:-190px; top:90px;
    background:linear-gradient(135deg, rgba(236,72,153,.35), rgba(139,92,246,.30));
    animation-delay:4s;
  }
  .orb.c{
    width:580px; height:580px; left:38%; bottom:-280px;
    background:linear-gradient(135deg, rgba(99,102,241,.30), rgba(79,172,254,.25));
    animation-delay:8s;
  }
  @@keyframes floaty{
    0%,100%{transform:translate(0,0) scale(1)}
    50%{transform:translate(18px,-14px) scale(1.03)}
  }

  .content-wrapper{
    position:relative;
    z-index:5;
    max-width:1600px;
    width:100%;
    margin:0 auto;
    flex:1;
    min-height:0;
    display:flex;
    flex-direction:column;
    gap:1.2rem;
  }

  /* header */
  .page-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:1rem;
    flex-shrink:0;
    padding:.2rem 0;
  }
  .header-left{
    display:flex;
    align-items:center;
    gap:.9rem;
  }
  .header-badge{
    width:52px; height:52px;
    border-radius:16px;
    display:grid; place-items:center;
    background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    box-shadow:0 8px 30px rgba(102,126,234,.6), 0 0 40px rgba(118,75,162,.3);
    border:1px solid rgba(255,255,255,.15);
  }
  .header-badge span{ font-size:1.55rem; filter:drop-shadow(0 4px 8px rgba(0,0,0,.4)); }

  .page-title{
    margin:0;
    font-size:2rem;
    font-weight:900;
    letter-spacing:.2px;
    background:linear-gradient(135deg, #ffffff 0%, #a8b9ff 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    text-shadow:0 2px 24px rgba(102,126,234,.55);
  }

  .btn-add{
    border:none;
    border-radius:16px;
    padding:1rem 1.25rem;
    font-weight:900;
    text-decoration:none;
    color:#fff;
    display:inline-flex;
    align-items:center;
    gap:.6rem;

    background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    box-shadow:0 10px 34px rgba(102,126,234,.52);
    border:1px solid rgba(255,255,255,.15);
    transition:transform .65s cubic-bezier(.16,1,.3,1), box-shadow .65s ease, opacity .2s ease;
  }
  .btn-add:hover{ transform:translateY(-2px); box-shadow:0 18px 55px rgba(102,126,234,.70); }
  .btn-add:active{ transform:translateY(0); opacity:.96; }

  /* ======= CARD GRID ======= */
  .chef-grid{
    display:grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    gap: 1.2rem;
  }

  .chef-card{
    grid-column: span 4;
    border-radius: 22px;
    overflow:hidden;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.10);
    box-shadow: 0 20px 55px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);
    position:relative;
    will-change: transform;
    transition:
      transform .95s cubic-bezier(.16,1,.3,1),
      box-shadow .95s cubic-bezier(.16,1,.3,1),
      border-color .95s ease,
      background .95s ease;
  }

  .chef-card::after{
    content:"";
    position:absolute;
    inset:-2px;
    border-radius: 24px;
    pointer-events:none;
    opacity:0;
    transition: opacity .95s ease;
    background:
      radial-gradient(600px 200px at 20% 0%, rgba(139,92,246,.22), transparent 60%),
      radial-gradient(600px 200px at 80% 0%, rgba(99,102,241,.18), transparent 55%);
  }

  .chef-card:hover{
    transform: translateY(-6px);
    background: rgba(255,255,255,.08);
    border-color: rgba(102,126,234,.35);
    box-shadow: 0 36px 95px rgba(0,0,0,.60);
  }
  .chef-card:hover::after{ opacity:1; }

  .chef-photo{
    height: 260px;
    position:relative;
    overflow:hidden;
    background: rgba(0,0,0,.25);
  }
  .chef-photo img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transform: scale(1.02);
    transition:
      transform 1.15s cubic-bezier(.16,1,.3,1),
      filter 1.15s ease;
    filter:saturate(1.03) contrast(1.02);
  }
  .chef-card:hover .chef-photo img{
    transform: scale(1.07);
    filter:saturate(1.05) contrast(1.03);
  }

  /* wave */
  .chef-wave{
    position:absolute;
    left:0; right:0; bottom:-1px;
    height:74px;
    background:#fff;
    border-top-left-radius: 40px;
    border-top-right-radius: 40px;
    clip-path: path("M 0 55 C 160 85 280 15 430 55 C 610 105 730 25 900 58 L 900 140 L 0 140 Z");
    opacity:.97;
    transition: opacity .85s ease;
  }
  .chef-card:hover .chef-wave{ opacity:.995; }

  /* body */
  .chef-body{
    background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.90));
    padding: 1.2rem 1.2rem 1.25rem;
    text-align:center;
  }

  .chef-name{
    margin:0;
    font-size: 1.25rem;
    font-weight: 950;
    color:#111827;
    letter-spacing:.2px;
  }
  .chef-role{
    margin:.25rem 0 0 0;
    font-size:.95rem;
    color:#6b7280;
    font-weight:800;
  }
  .chef-desc{
    margin:.9rem auto 0 auto;
    font-size:.95rem;
    color:#4b5563;
    max-width: 520px;
    display:-webkit-box;
    -webkit-line-clamp:2;
    -webkit-box-orient:vertical;
    overflow:hidden;
  }

  /* social (hover'da g√∂r√ºn√ºr) */
  .chef-social{
    position:absolute;
    top: 14px;
    right: 14px;
    display:flex;
    flex-direction:column;
    gap:.5rem;
    z-index:3;

    opacity: 0;
    transform: translateY(-6px);
    transition: opacity .55s cubic-bezier(.16,1,.3,1),
                transform .55s cubic-bezier(.16,1,.3,1);
  }
  .chef-card:hover .chef-social{
    opacity: 1;
    transform: translateY(0);
  }

  .chef-social a{
    width:42px;height:42px;
    border-radius:14px;
    display:grid;
    place-items:center;
    text-decoration:none;
    font-weight:900;

    background: rgba(255,255,255,.18);
    color: rgba(255,255,255,.92);
    border: 1px solid rgba(255,255,255,.18);
    backdrop-filter: blur(12px);
    box-shadow: 0 18px 55px rgba(0,0,0,.22);

    transition:
      transform .55s cubic-bezier(.16,1,.3,1),
      box-shadow .55s ease,
      background .55s ease;
  }
  .chef-social a:hover{
    transform: translateY(-2px);
    box-shadow: 0 26px 70px rgba(0,0,0,.28);
    background: rgba(255,255,255,.24);
  }

  /* actions */
  .chef-actions{
    margin-top: 1rem;
    display:flex;
    justify-content:center;
    gap:.75rem;
    flex-wrap:wrap;
  }
  .btn-mini{
    border:none;
    border-radius: 14px;
    padding:.8rem 1.05rem;
    font-weight:950;
    cursor:pointer;
    text-decoration:none;
    display:inline-flex;
    align-items:center;
    gap:.5rem;
    color:#fff;
    white-space:nowrap;
    transition:
      transform .65s cubic-bezier(.16,1,.3,1),
      box-shadow .65s ease,
      opacity .25s ease;
  }
  .btn-mini:hover{
    transform:translateY(-2px);
    box-shadow: 0 18px 40px rgba(0,0,0,.22);
  }
  .btn-mini:active{ transform:translateY(0); opacity:.96; }

  .btn-edit{
    background:linear-gradient(135deg,#f59e0b 0%, #d97706 100%);
    box-shadow:0 10px 24px rgba(245,158,11,.25);
  }
  .btn-del{
    background:linear-gradient(135deg,#ef4444 0%, #dc2626 100%);
    box-shadow:0 10px 24px rgba(239,68,68,.25);
  }

  .no-photo{
    width:100%;
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:.35rem;
    color: rgba(255,255,255,.90);
    font-weight: 950;
    position:relative;
    overflow:hidden;

    background:
      radial-gradient(500px 220px at 30% 20%, rgba(139,92,246,.35), transparent 60%),
      radial-gradient(420px 200px at 70% 70%, rgba(56,189,248,.22), transparent 60%),
      linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border: 1px solid rgba(255,255,255,.10);
  }
  .no-photo small{ color: rgba(255,255,255,.65); font-weight: 800; }

  .no-photo::after{
    content:"";
    position:absolute;
    inset:0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
    transform: translateX(-120%);
    animation: shimmer 2.2s ease-in-out infinite;
    opacity:.55;
  }
  @@keyframes shimmer{
    0%{ transform: translateX(-120%); }
    100%{ transform: translateX(120%); }
  }

  /* responsive */
  @@media (max-width: 1100px){ .chef-card{ grid-column: span 6; } }
  @@media (max-width: 700px){
    .ai-powered-container{ padding:1.1rem; }
    .page-title{ font-size:1.6rem; }
    .chef-card{ grid-column: span 12; }
    .chef-photo{ height: 240px; }
  }
</style>
}

<div class="ai-powered-container">
  <div class="orb a"></div>
  <div class="orb b"></div>
  <div class="orb c"></div>
  <div class="grid-overlay"></div>

  <div class="content-wrapper">
    <div class="page-header">
      <div class="header-left">
        <div class="header-badge"><span>üë®‚Äçüç≥</span></div>
        <h1 class="page-title">≈ûef Listesi</h1>
      </div>

      <a asp-action="CreateChef" asp-controller="Chef" class="btn-add">
        ‚ûï Yeni ≈ûef Giri≈üi
      </a>
    </div>

    @if (Model != null && Model.Any())
    {
      <div class="chef-grid">
        @foreach (var chef in Model)
        {
          <div class="chef-card">
            <div class="chef-photo">
              @if (chef.ChefImageUrl != null)
              {
                <img src="@chef.ChefImageUrl"
                     alt="@chef.ChefName"
                     loading="lazy"
                     onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22600%22%3E%3Crect fill=%22%230a0e27%22 width=%221200%22 height=%22600%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 fill=%22%23667eea%22 font-family=%22Arial%22 font-size=%2248%22%3ENo%20Photo%3C/text%3E%3C/svg%3E';" />
              }
              else
              {
                <div class="no-photo">
                  <div style="font-size:2rem;">üì∑</div>
                  No Photo
                  <small>G√∂rsel eklenmemi≈ü</small>
                </div>
              }

              <div class="chef-wave"></div>

              <div class="chef-social">
                @if (!string.IsNullOrWhiteSpace(chef.ChefFacebookUrl))
                { <a href="@chef.ChefFacebookUrl" target="_blank" rel="noopener" title="Facebook">f</a> }
                @if (!string.IsNullOrWhiteSpace(chef.ChefXUrl))
                { <a href="@chef.ChefXUrl" target="_blank" rel="noopener" title="X">ùïè</a> }
                @if (!string.IsNullOrWhiteSpace(chef.ChefInstagramUrl))
                { <a href="@chef.ChefInstagramUrl" target="_blank" rel="noopener" title="Instagram">‚åÅ</a> }
                @if (!string.IsNullOrWhiteSpace(chef.ChefLinkedinUrl))
                { <a href="@chef.ChefLinkedinUrl" target="_blank" rel="noopener" title="LinkedIn">in</a> }
              </div>
            </div>

            <div class="chef-body">
              <h3 class="chef-name">@chef.ChefName</h3>
              <p class="chef-role">@chef.ChefTitle</p>
              <p class="chef-desc">@chef.ChefDescription</p>

              <div class="chef-actions">
                <a asp-action="DeleteChef"
                   asp-controller="Chef"
                   asp-route-id="@chef.ChefId"
                   class="btn-mini btn-del js-delete">
                  üóëÔ∏è Sil
                </a>

                <a asp-action="UpdateChef"
                   asp-controller="Chef"
                   asp-route-id="@chef.ChefId"
                   class="btn-mini btn-edit">
                  ‚úèÔ∏è G√ºncelle
                </a>
              </div>
            </div>
          </div>
        }
      </div>
    }
    else
    {
      <div style="padding:1.2rem 0;color:rgba(255,255,255,.75);font-weight:800;">
        ≈ûef bulunamadƒ±.
      </div>
    }
  </div>
</div>

@section Scripts{
  <script>
    document.querySelectorAll('.js-delete').forEach(a=>{
      a.addEventListener('click', function(e){
        e.preventDefault();
        const url = this.getAttribute('href');

        if (typeof Swal === "undefined") {
          if (confirm("Emin misin? Bu ≈üef kalƒ±cƒ± olarak silinecek.")) {
            window.location.href = url;
          }
          return;
        }

        Swal.fire({
          title: 'Emin misin?',
          text: 'Bu ≈üef kalƒ±cƒ± olarak silinecek.',
          icon: 'warning',
          showCancelButton: true,
          confirmButtonText: 'Evet, sil',
          cancelButtonText: 'Vazge√ß',
          reverseButtons: true
        }).then((r)=>{
          if(r.isConfirmed) window.location.href = url;
        });
      });
    });
  </script>
}
