@using YummyUI.DTOs.CategoryDTOs
@model List<ResultCategoryDto>
@{
    Layout = "_AdminLayout";
    var count = 0;
}

<style>
/* ===== AI BACKGROUND ===== */
.ai-category-container,
.ai-category-container * {
  box-sizing: border-box;
}

.ai-category-container {
  min-height: 100%;
  padding: 1.6rem 2rem;
  position: relative;
  overflow: hidden;

  background:
    radial-gradient(1200px 600px at 70% 80%, rgba(56,189,248,0.25), transparent 60%),
    radial-gradient(900px 500px at 15% 20%, rgba(139,92,246,0.28), transparent 60%),
    radial-gradient(800px 420px at 90% 10%, rgba(99,102,241,0.22), transparent 55%),
    linear-gradient(135deg, #070b1f 0%, #0a1030 40%, #050818 100%);
}

/* floating orbs */
.orb {
  position:absolute;
  border-radius:999px;
  filter:blur(90px);
  opacity:.55;
  pointer-events:none;
  animation: floaty 14s ease-in-out infinite;
}
.orb.a { width:480px;height:480px;left:-150px;top:-150px;background:rgba(139,92,246,.45); }
.orb.b { width:420px;height:420px;right:-160px;top:120px;background:rgba(56,189,248,.40);animation-delay:3s; }
.orb.c { width:520px;height:520px;left:35%;bottom:-240px;background:rgba(99,102,241,.35);animation-delay:6s; }

@@keyframes floaty {
  0%,100% { transform:translate(0,0) scale(1); }
  50% { transform:translate(16px,-12px) scale(1.04); }
}

/* ===== HEADER ===== */
.page-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:1.4rem;
}

.header-left {
  display:flex;
  align-items:center;
  gap:.9rem;
}

.header-badge {
  width:52px;
  height:52px;
  border-radius:16px;
  display:grid;
  place-items:center;
  background:linear-gradient(135deg,#667eea,#764ba2);
  box-shadow:0 12px 35px rgba(102,126,234,.6);
}

.header-badge span {
  font-size:1.6rem;
}

.page-title {
  margin:0;
  font-size:2rem;
  font-weight:900;
  background:linear-gradient(135deg,#ffffff,#a8b9ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* ===== GLASS CARD ===== */
.glass-card {
  background:rgba(15,23,42,.55);
  border-radius:28px;
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter:blur(16px);
  box-shadow:0 40px 80px rgba(0,0,0,.45);
  padding:1.4rem;
}

/* ===== TABLE ===== */
.table-wrap {
  overflow:auto;
}

.ai-table {
  width:100%;
  border-collapse:separate;
  border-spacing:0;
}

.ai-table thead th {
  text-align:left;
  padding:1rem;
  font-size:.8rem;
  letter-spacing:.4px;
  color:rgba(255,255,255,.85);
  background:rgba(10,14,39,.75);
  backdrop-filter:blur(12px);
  position:sticky;
  top:0;
  z-index:5;
}

.ai-table tbody td {
  padding:1.2rem 1rem;
  color:rgba(255,255,255,.78);
  border-bottom:1px solid rgba(255,255,255,.06);
}

.ai-table tbody tr:hover {
  background:rgba(102,126,234,.08);
}

/* ===== STATUS CHIP ===== */
.status-btn {
  border:none;
  padding:.55rem 1.4rem;
  border-radius:999px;
  font-weight:800;
  font-size:.8rem;
  cursor:pointer;
  transition:.2s;
}

.status-btn:hover { transform:translateY(-1px); }

.btn-outline-success {
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#052e16;
}

.btn-outline-danger {
  background:linear-gradient(135deg,#f59e0b,#f97316);
  color:#1a1a1a;
}

/* ===== ACTION BUTTONS ===== */
.action-btn {
  border:none;
  padding:.55rem .9rem;
  border-radius:14px;
  font-weight:800;
  font-size:.8rem;
  cursor:pointer;
  text-decoration:none;
  color:#fff;
  display:inline-flex;
  align-items:center;
  gap:.4rem;
}

.btn-danger {
  background:linear-gradient(135deg,#ef4444,#dc2626);
}

.btn-warning {
  background:linear-gradient(135deg,#fbbf24,#f59e0b);
  color:#1a1a1a;
}

/* ===== ADD BUTTON ===== */
.btn-add {
  margin-top:1.5rem;
  display:inline-flex;
  align-items:center;
  gap:.6rem;
  padding:1rem 1.5rem;
  border-radius:16px;
  font-weight:900;
  color:#fff;
  text-decoration:none;
  background:linear-gradient(135deg,#667eea,#764ba2);
  box-shadow:0 14px 40px rgba(102,126,234,.6);
}
</style>

<div class="ai-category-container">
  <div class="orb a"></div>
  <div class="orb b"></div>
  <div class="orb c"></div>

  <div class="page-header">
    <div class="header-left">
      <div class="header-badge"><span>üìÇ</span></div>
      <h1 class="page-title">Kategoriler</h1>
    </div>

    <a asp-action="CreateCategory" asp-controller="Category" class="btn-add">
      ‚ûï Yeni Kategori
    </a>
  </div>

  <div class="glass-card">
    @if (Model != null && Model.Any())
    {
      <div class="table-wrap">
        <table class="ai-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Kategori Adƒ±</th>
              <th>Durum</th>
              <th>Sil</th>
              <th>G√ºncelle</th>
            </tr>
          </thead>
          <tbody>
            @foreach (var category in Model)
            {
              @Html.AntiForgeryToken()
              <tr>
                <td>@(++count)</td>
                <td>@category.CategoryName</td>
                <td>
                  <button type="button"
                          class="status-btn @(category.CategoryStatus ? "btn-outline-danger" : "btn-outline-success")"
                          data-url="@Url.Action("ChangeCategoryStatus", "Admin", new { id = category.CategoryId })">
                    @(category.CategoryStatus ? "Pasif Et" : "Aktif Et")
                  </button>
                </td>
                <td>
                  <a asp-action="CategoryDelete"
                     asp-controller="Category"
                     asp-route-id="@category.CategoryId"
                     class="action-btn btn-danger">
                    üóëÔ∏è Sil
                  </a>
                </td>
                <td>
                  <a asp-action="CategoryUpdate"
                     asp-controller="Category"
                     asp-route-id="@category.CategoryId"
                     class="action-btn btn-warning">
                    ‚úèÔ∏è G√ºncelle
                  </a>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
    else
    {
      <div style="padding:2rem;color:rgba(255,255,255,.7)">
        Hen√ºz kategori yok.
      </div>
    }
  </div>
</div>
