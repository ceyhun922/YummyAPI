@using YummyAPI.DTOs.AboutDTO
@model List<ResultAboutDto>
@{
    Layout ="_AdminLayout";
    var about = (Model != null && Model.Any()) ? Model.FirstOrDefault() : null;
    var hasAbout = about != null;
}

<style>
  .ai-about, .ai-about *{ box-sizing:border-box; }

  .ai-about{
    min-height:100%;
    padding: 1.7rem 2rem;
    position:relative;
    overflow:hidden;
    background:
      radial-gradient(1200px 600px at 70% 80%, rgba(56,189,248,.22), transparent 60%),
      radial-gradient(900px 500px at 15% 20%, rgba(139,92,246,.26), transparent 60%),
      radial-gradient(800px 420px at 90% 10%, rgba(99,102,241,.20), transparent 55%),
      linear-gradient(135deg,#070b1f 0%,#0a1030 40%,#050818 100%);
  }

  .grid-overlay{
    position:absolute; inset:0; pointer-events:none; opacity:.16;
    background-image:
      linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px);
    background-size: 64px 64px;
  }

  .orb{ position:absolute; border-radius:999px; filter:blur(95px); opacity:.55; pointer-events:none; }
  .orb.a{ width:520px;height:520px;left:-190px;top:-180px;background:rgba(139,92,246,.40); }
  .orb.b{ width:440px;height:440px;right:-200px;top:110px;background:rgba(56,189,248,.34); }
  .orb.c{ width:560px;height:560px;left:34%;bottom:-280px;background:rgba(99,102,241,.30); }

  .wrap{
    position:relative;
    z-index:5;
    max-width: 1400px;
    margin: 0 auto;
    display:flex;
    flex-direction:column;
    gap: 1.1rem;
  }

  /* header */
  .topbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:1rem;
    flex-wrap:wrap;
  }
  .h-left{
    display:flex;
    align-items:center;
    gap:.9rem;
  }
  .badge{
    width:52px;height:52px;
    border-radius:16px;
    display:grid;place-items:center;
    background:linear-gradient(135deg,#667eea,#764ba2);
    box-shadow:0 12px 35px rgba(102,126,234,.6);
    border:1px solid rgba(255,255,255,.12);
  }
  .badge span{ font-size:1.55rem; }

  .title{
    margin:0;
    font-size:2rem;
    font-weight:950;
    background:linear-gradient(135deg,#fff,#a8b9ff);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }
  .sub{
    margin:.2rem 0 0 0;
    color:rgba(255,255,255,.65);
    font-weight:750;
    font-size:.95rem;
  }

  .actions{
    display:flex;
    gap:.6rem;
    flex-wrap:wrap;
    justify-content:flex-end;
  }

  .btn{
    display:inline-flex;
    align-items:center;
    gap:.55rem;
    padding: 1rem 1.15rem;
    border-radius: 16px;
    font-weight: 950;
    text-decoration:none;
    border: 1px solid rgba(255,255,255,.14);
    transition: transform .15s ease, box-shadow .15s ease, opacity .15s ease;
    white-space: nowrap;
    cursor:pointer;
  }
  .btn:hover{ transform: translateY(-2px); box-shadow: 0 18px 55px rgba(0,0,0,.35); }
  .btn:active{ transform: translateY(0); opacity:.96; }

  .btn-primary{
    color:#fff;
    background: linear-gradient(135deg,#667eea,#764ba2);
    box-shadow: 0 14px 40px rgba(102,126,234,.6);
  }
  .btn-warning{
    color:#1a1a1a;
    background: linear-gradient(135deg,#fbbf24,#f59e0b);
    box-shadow: 0 14px 40px rgba(245,158,11,.25);
  }
  .btn-danger{
    color:#fff;
    background: linear-gradient(135deg,#ef4444,#dc2626);
    box-shadow: 0 14px 40px rgba(239,68,68,.35);
  }
  .btn-disabled{
    opacity:.65;
    cursor:not-allowed;
    transform:none !important;
    box-shadow:none !important;
  }

  /* panel */
  .panel{
    background: rgba(15,23,42,.55);
    border-radius: 28px;
    border: 1px solid rgba(255,255,255,.12);
    backdrop-filter: blur(16px);
    box-shadow: 0 40px 80px rgba(0,0,0,.45);
    overflow:hidden;
  }

  .panel-head{
    padding: 1.05rem 1.25rem;
    border-bottom: 1px solid rgba(255,255,255,.08);
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap: 1rem;
    flex-wrap:wrap;
  }

  .panel-head .hint{
    color: rgba(255,255,255,.78);
    font-weight: 900;
  }
  .panel-head .meta{
    color: rgba(255,255,255,.60);
    font-weight: 800;
    font-size: .9rem;
  }

  .ai-bar{
    margin: 1rem 1.25rem 0 1.25rem;
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.12);
    background: linear-gradient(135deg, rgba(245,158,11,.18), rgba(102,126,234,.14));
    padding: .95rem 1rem;
    color: rgba(255,255,255,.88);
    font-weight: 850;
    display:flex;
    align-items:flex-start;
    gap:.75rem;
  }
  .ai-pill{
    width:34px;height:34px;
    border-radius: 14px;
    display:grid;
    place-items:center;
    background: rgba(245,158,11,.25);
    border: 1px solid rgba(245,158,11,.28);
    box-shadow: 0 0 24px rgba(245,158,11,.22);
    flex: 0 0 auto;
  }

  .content{
    padding: 1.25rem;
  }

  .about-card{
    border-radius: 24px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.04);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
    overflow:hidden;
    display:grid;
    grid-template-columns: 420px 1fr;
    gap: 0;
  }

  .media{
    position:relative;
    min-height: 320px;
    background: rgba(0,0,0,.22);
    overflow:hidden;
  }
  .media img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transform: scale(1.02);
    transition: transform .45s ease;
    filter:saturate(1.05) contrast(1.02);
  }
  .about-card:hover .media img{ transform: scale(1.08); }

  .noimg{
    position:absolute; inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:.35rem;
    color: rgba(255,255,255,.75);
    font-weight: 950;
  }
  .noimg small{ color: rgba(255,255,255,.55); font-weight: 750; }

  .details{
    padding: 1.1rem 1.15rem 1.2rem;
    display:flex;
    flex-direction:column;
    gap: .9rem;
  }

  .kicker{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: .8rem;
    flex-wrap:wrap;
  }

  .main-title{
    margin:0;
    color:#fff;
    font-weight: 950;
    font-size: 1.25rem;
    letter-spacing:.2px;
  }

  .video{
    display:inline-flex;
    align-items:center;
    gap:.5rem;
    padding:.5rem .75rem;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    color: rgba(255,255,255,.86);
    font-weight: 900;
    text-decoration:none;
    white-space:nowrap;
    transition: transform .15s ease, background .15s ease, border-color .15s ease;
  }
  .video:hover{
    transform: translateY(-1px);
    background: rgba(102,126,234,.12);
    border-color: rgba(102,126,234,.35);
  }

  .subtitle-box{
    margin:0;
    color: rgba(255,255,255,.70);
    font-weight: 750;
    line-height: 1.55;
  }

  .features{
    display:grid;
    grid-template-columns: repeat(12, minmax(0,1fr));
    gap: .8rem;
    margin-top: .2rem;
  }

  .f{
    grid-column: span 4;
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.04);
    padding: .9rem;
    transition: transform .25s ease, border-color .25s ease, background .25s ease;
  }
  .f:hover{
    transform: translateY(-6px);
    background: rgba(255,255,255,.07);
    border-color: rgba(102,126,234,.45);
  }
  .f .t{
    margin:0 0 .35rem 0;
    color: rgba(255,255,255,.60);
    font-weight: 900;
    font-size: .82rem;
    letter-spacing:.2px;
  }
  .f .v{
    margin:0;
    color:#fff;
    font-weight: 900;
    line-height:1.4;
  }

  .bottom-actions{
    display:flex;
    gap:.6rem;
    flex-wrap:wrap;
    margin-top: .4rem;
  }

  .empty{
    padding: 2.2rem;
    text-align:center;
    color: rgba(255,255,255,.78);
  }
  .empty h2{ margin:0 0 .45rem 0; color:#fff; font-weight:950; }
  .empty p{ margin:0 0 1.1rem 0; color: rgba(255,255,255,.68); }

  @@media (max-width: 1100px){
    .about-card{ grid-template-columns: 1fr; }
    .media{ min-height: 240px; }
    .f{ grid-column: span 12; }
  }
</style>

<div class="ai-about">
  <div class="orb a"></div>
  <div class="orb b"></div>
  <div class="orb c"></div>
  <div class="grid-overlay"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="h-left">
        <div class="badge"><span>‚ÑπÔ∏è</span></div>
        <div>
          <h1 class="title">Hakkƒ±mƒ±zda Alanƒ±</h1>
          <div class="sub">Tek kayƒ±t mantƒ±ƒüƒ± ‚Ä¢ premium y√∂netim</div>
        </div>
      </div>

      <div class="actions">
        @if (hasAbout)
        {
          <button class="btn btn-warning btn-disabled" type="button" onclick="return false;">‚ö†Ô∏è M√∂vcud</button>
        }
        else
        {
          <a asp-action="CreateAbout" asp-controller="About" class="btn btn-primary">‚ûï Yeni Hakkƒ±mƒ±zda Giri≈üi</a>
        }
      </div>
    </div>

    <div class="panel">
      <div class="panel-head">
        <div class="hint">Web sitede g√∂r√ºnen hakkƒ±nda bilgileri</div>
        <div class="meta">@(hasAbout ? "Kayƒ±t mevcut" : "Kayƒ±t yok")</div>
      </div>

      @if (hasAbout)
      {
        <div class="ai-bar">
          <div class="ai-pill">!</div>
          <div>
            <b>Hakkƒ±mƒ±zda alanƒ± var.</b> Yenisi olu≈üturmak i√ßin mevcut kaydƒ± silmelisin.
          </div>
        </div>

        <div class="content">
          <div class="about-card">
            <div class="media">
              @{
                var apiBase ="http://localhost:5289";
              }
              @if (!string.IsNullOrWhiteSpace(about!.AboutImageUrl))
              {
                <img src="@(apiBase + about.AboutImageUrl)"
                     alt="@about.AboutTitle"
                     loading="lazy"
                     onerror="this.onerror=null;this.parentElement.innerHTML='<div class=&quot;noimg&quot;><div style=&quot;font-size:1.4rem;&quot;>üì∑</div>No Img<small>G√∂rsel yok</small></div>';" />
              }
              else
              {
                <div class="noimg">
                  <div style="font-size:1.4rem;">üì∑</div>
                  No Img
                  <small>G√∂rsel yok</small>
                </div>
              }
            </div>

            <div class="details">
              <div class="kicker">
                <h2 class="main-title">@about.AboutTitle</h2>

                @if (!string.IsNullOrWhiteSpace(about.AboutVideoUrl))
                {
                  <a class="video" href="@about.AboutVideoUrl" target="_blank" rel="noopener noreferrer">
                    ‚ñ∂ Video Url
                  </a>
                }
              </div>

              <p class="subtitle-box">@about.AboutSubTitle</p>

              <div class="features">
                <div class="f">
                  <p class="t">Ekleme 1</p>
                  <p class="v">@about.AboutTitleChecked1</p>
                </div>
                <div class="f">
                  <p class="t">Ekleme 2</p>
                  <p class="v">@about.AboutTitleChecked2</p>
                </div>
                <div class="f">
                  <p class="t">Ekleme 3</p>
                  <p class="v">@about.AboutTitleChecked3</p>
                </div>
              </div>

              <div class="bottom-actions">
                <a asp-action="AboutUpdate"
                   asp-controller="About"
                   asp-route-id="@about.AboutId"
                   class="btn btn-warning">‚úèÔ∏è G√ºncelle</a>

                <a asp-action="AboutDelete"
                   asp-controller="About"
                   asp-route-id="@about.AboutId"
                   class="btn btn-danger">üóëÔ∏è Sil</a>
              </div>
            </div>
          </div>
        </div>
      }
      else
      {
        <div class="empty">
          <h2>Hakkƒ±mƒ±zda alanƒ± yok</h2>
          <p>Yeni bir Hakkƒ±mƒ±zda i√ßeriƒüi olu≈üturmak i√ßin butona tƒ±kla.</p>
          <a asp-action="CreateAbout" asp-controller="About" class="btn btn-primary">‚ûï Yeni Hakkƒ±mƒ±zda Giri≈üi</a>
        </div>
      }
    </div>
  </div>
</div>
